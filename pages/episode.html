
<div class="container"  ng-swipe-left="goto('home')" >		
	<div class="scrollable">
		<div class="scrollable-content section"  >
			
			<div ui-content-for="modals">
			  <div class="scrollable-content  modal" ui-if="event" ui-state="event">
			    	<div class="modal-overlay"> 
				</div>
  
			    <div class="modal-dialog">
			      <div class="modal-content">
			        <div class="modal-header">
			          <button class="close" ui-turn-off="event" ng-click="reset()">x</button>
			          <h4 class="modal-title"  ng-show="hasDatahubInfo()" >More info from the datahub </h4>
					  <h4 class="modal-title" ng-hide="hasDatahubInfo()">No info from the datahub!</h4>
			        </div>
      
			        <div ng-show="hasDatahubInfo()" class="modal-body">
						<h3 class="text-custom">{{currentEnt}}</h3>
							<br/>
						
 						   <div ng-show="entityInfo['coordinates']" map-lazy-load="https://maps.google.com/maps/api/js" map-lazy-load-params="{{googleMapsUrl}}">
 								<h4 class="text-custom">Map</h4>
								<ng-map class="gmap" center="{{entityInfo['coordinates']}}" zoom="13">
 							  	  	<marker position="{{entityInfo['coordinates']}}" data="0" title="title"></marker>
 							  	</ng-map>
 							<hr/>
							</div>
							
							
							<div class="row"> 
								<div ng-repeat="photo in entityInfo.photos"  class="col-sm-2 col-xs-2 col-md-2"> 
									<div class="thumbnail"> 
										<a href="{{photo.url}}" target="_blank">
											<img alt="{{photo.alt}}" style="height: 80px; width: 100%; display: block;"   src="{{photo.thumbnail}}"  > 
										</a>
										<div class="caption"> 
											<p >
												{{limit(photo.desc)}}
											</p> 
										</div> 
									</div> 
								</div> 
							</div>
							
							<div ng-show="entityInfo['population_projection']">
								<h4 class="text-custom">Population projection</h4>
								<canvas id="pop-proj-container" class="chart chart-line " chart-data="entityInfo['population_projection'].data" chart-labels="entityInfo['population_projection'].labels"></canvas>
							<hr/>
							</div>
							
							<div ng-show="entityInfo['age']">
								<h4 class="text-custom">Population age</h4>
								<canvas id="age-container" class="chart chart-bar " chart-data="entityInfo['age'].data" chart-labels="entityInfo['age'].labels"></canvas>
							<hr/>
							</div>
							
							
							<div ng-show="entityInfo['economy']">
								<h4 class="text-custom">Economical activities</h4>
								 <canvas id="economy-bar-container" class="chart chart-bar " chart-options="entityInfo.economy.options" chart-data="entityInfo.economy.data"  chart-labels="entityInfo.economy.labels" ></canvas>
							</div>
							
							<div >
								<h4 class="text-custom" >Additional info</h4>
								<ul class="list-group" >
								<li class="list-group-item" ng-repeat="(key,prop) in entityInfo " ng-if="prop.other" >
									<strong class="text-custom">{{key}}</strong>: {{prop.value}}
								</li>
								<ul>
								<hr/>
							</div>
						
							
					</div> 
			      </div>
			    </div>
			  </div>
			</div>
			
			
			  <div class="panel panel-custom" >
			    <div class="panel-heading">        
			      <h4 class="panel-title">
			          {{currentEpisode.title}}
			      </h4>
			    </div>
			    <div>
			      <div class="panel-body">
					  
					 <strong> Listen to the episode</strong>
					 <br/>
					 <div class="btn-group btn-group-justified" > 
						 <a ng-click="episodeAudio.paused ? episodeAudio.play() : episodeAudio.pause()" class="btn btn-default" >
  						  <i ng-hide="!episodeAudio.paused" class="fa fa-play fa-2x" ></i>
  						  <i ng-hide="episodeAudio.paused" class="fa fa-pause fa-2x" ></i>
						 </a> 
						 <a  class="btn btn-default" >
						 	<input class="form-control" type="range" min="0" max="1" step="0.01" ng-model="episodeAudio.progress">
						 </a> 
						 <a class="btn btn-default" >
							 {{episodeAudio.currentTime | trackTime}}	
							  
						 </a> 

						 <a class="btn btn-default " ng-click="episodeAudio.volume==1 ? episodeAudio.volume=0 : episodeAudio.volume=1">
						     <i class="fa fa-volume-off fa-2x " ng-show="episodeAudio.volume==1" ></i>
						     <i class="fa fa-volume-up fa-2x" ng-show="episodeAudio.volume==0" ></i>
			
						 </a>

						 <a class="btn btn-default" >
							<input  class='form-control' type=range min=0 max=1 step=0.01 ng-model='episodeAudio.volume'>
						 </a>
					 </div>
					  
					  
					  
			        <!-- <strong>Title</strong>  {{currentEpisode.title}} -->
					<!-- <p/> -->
			        <!-- <strong>Episode ID</strong> {{currentEpisode.name}} -->
					<p/>
					
					
					<strong>What did we talk about?</strong>
					<div >
						<jqcloud id="wordcloud" words="words" ng-click="openInfo()" ui-turn-on="event" autoResize="true"  afterWordRender="{{updateWord()}}" auto-resize="true"  height="350" steps="10"></jqcloud>
					</div>	 
					 
				  </div>
				  
				  
			    </div>
			  </div>
			
			
			
			<h3>
				<a><i class="fa fa-chevron-circle-left"  ng-click="home()"></i></a>
			</h3>
			
				
		</div>
			
		
	</div>
</div>